<!DOCTYPE html><html><head><meta charset="utf-8"><meta name="X-UA-Compatible" content="IE=edge"><meta name="baidu-site-verification" content="1EB8XoOl0C"><meta name="google-site-verification" content="u1mTB5JWczvR8aazOKgWjreaUB1ssIwuGy2FtZnfj68"><title> [iOS] AppDelegate의 역할과 메소드 · JingyuJung's Blog</title><meta name="viewport" content="width=device-width, initial-scale=1"><meta name="description" content="[iOS] AppDelegate의 역할과 메소드 - Jingyu Jung"><meta name="keywords"><meta name="author" content="Jingyu Jung"><link rel="short icon" href="/images/favicon.ico"><link rel="stylesheet" href="/css/bubuzou.css"><link rel="search" type="application/opensearchdescription+xml" href="http://monibu1548.github.io/atom.xml" title="JingyuJung's Blog"><script aync src="http://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script></head><body><header><div class="header row"> <a href="/" class="logo-link"><img src="/images/logo.png"></a><ul class="nav nav-list"><li class="nav-list-item"><a href="/" target="_self" data-hover="POSTS" class="nav-list-link">POSTS</a></li><li class="nav-list-item"><a href="/archives/" target="_self" data-hover="ARCHIVES" class="nav-list-link">ARCHIVES</a></li></ul><div class="search"><a id="search_btn" href="#search"></a></div></div></header><div class="row scroll-con"><section class="container"><ins style="display:block" data-ad-client="ca-pub-1405208574064220" data-ad-slot="7872165136" data-ad-format="auto" class="adsbygoogle"></ins><script>(adsbygoogle = window.adsbygoogle || []).push({})</script><!-- for archive page--><div id="postAr" class="post"><article class="post-block"><h1 class="post-title">[iOS] AppDelegate의 역할과 메소드</h1><div class="post-info">2018-08-28<p class="visit"><i data-hk-page="current">-</i><span>읽음</span></p></div><div class="post-content"><h1 id="AppDelegate-의-역할"><a href="#AppDelegate-의-역할" class="headerlink" title="AppDelegate 의 역할"></a>AppDelegate 의 역할</h1><p>UITableViewDelegate를 구현하다 =&gt; UITableView에서 필요한 기능을 대신 구현하다<br>라는 느낌으로 AppDelegate는 App( Application ) 이 해야할 일을 대신 구현한다는 의미입니다.</p>
<p>여기에서 App이 해야할 일이란, Background 진입, Foreground 진입, 외부에서의 요청 (apns) 등을 말합니다.</p>
<h3 id="UIApplicationMain-은-뭘까요"><a href="#UIApplicationMain-은-뭘까요" class="headerlink" title="@UIApplicationMain 은 뭘까요?"></a>@UIApplicationMain 은 뭘까요?</h3><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@UIApplicationMain</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">AppDelegate</span>: <span class="title">UIResponder</span>, <span class="title">UIApplicationDelegate</span></span></span><br></pre></td></tr></table></figure>
<p>지워보면 알겠죠. 주석처리 해봅니다. 네 에러가 나죠.<br><img src="../../../../images/appdelegate/1.png" alt=""></p>
<p>실제로 앱은 UIApplication이라는 객체로 추상화 되어 Run Loop를 통해 프로그램 코드를 실행합니다. 개발자는 AppDelegate를 통해 UIApplication의 역할의 일부를 위임받아 UI를 그리면서 앱 다운 앱이 탄생합니다.</p>
<p>여기서 의문.</p>
<p>UIApplication은 AppDelegate.m 파일에 있는 AppDelegate 클래스가 본인의 역할을 위임받은 클래스인지 어떻게 알까요?</p>
<p>보통 <code>tableView.delegate = {UITableViewDelegate를 구현한 객체}</code> 이런식으로 Delegate를 연결하죠.<br>그런데 앱을 실행할 때,,, UIApplication객체를 가져와서 delegate를…..</p>
<p>결론은 @UIApplication 어노테이션입니다.</p>
<p>@UIApplication 어노테이션이 붙은 사용자 정의 클래스를 UIApplication의 delegate로 사용합니다.</p>
<h3 id="UIWindow"><a href="#UIWindow" class="headerlink" title="UIWindow"></a>UIWindow</h3><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> window: <span class="type">UIWindow</span>?</span><br></pre></td></tr></table></figure>
<p>AppDelegate클래스를 보면 유일한 변수가 하나 있습니다. window<br>UIWindow 클래스이며 Optional로 nil을 가질 수 있습니다.</p>
<p>스토리보드 기반의 앱으로 구동되면 시스템에서 UIWindow객체를 할당하여 초기화하며, 코드기반의 경우 didFinishLaunchingWithOptions 타이밍에 직접 생성해줘야 합니다.</p>
<p>UIWindow 는 View를 담는 컨테이너 역할이며 다른 포스팅에서 더 자세히 다루도록 합니다.</p>
<h2 id="AppDelegate-메소드로-보는-iOS-LifeCycle"><a href="#AppDelegate-메소드로-보는-iOS-LifeCycle" class="headerlink" title="AppDelegate 메소드로 보는 iOS LifeCycle"></a>AppDelegate 메소드로 보는 iOS LifeCycle</h2><h3 id="1-앱-실행"><a href="#1-앱-실행" class="headerlink" title="1. 앱 실행"></a>1. 앱 실행</h3><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">application</span><span class="params">(<span class="number">_</span> application: UIApplication, didFinishLaunchingWithOptions launchOptions: [UIApplicationLaunchOptionsKey: Any]?)</span></span> -&gt; <span class="type">Bool</span> &#123;</span><br><span class="line">        <span class="comment">// Override point for customization after application launch.</span></span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span></span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>
<p>앱을 실행하면 호출되는 delegate 메소드. launchOptions 파라미터로 앱이 실행되게 된 이유 (푸시를 통한 실행) 등이 포함되어 실행된다.</p>
<ul>
<li>return은 왜 true로 고정되어 있을까?</li>
</ul>
<p>false로 바꿔도 앱은 정상적으로 실행되며, 아무 문제 없다.<br>return 값은 앱이 URL ( App Scheme ) 으로 실행된 경우 유효하다. URL로 실행 된 경우 launchOptions에 URL이 넘어오며 return을 false로 하면 openURL로 url을 오픈하지 않고 넘어간다.</p>
<ul>
<li>좀 더 연구가 필요!</li>
</ul>
<h3 id="2-앱-활성화"><a href="#2-앱-활성화" class="headerlink" title="2. 앱 활성화"></a>2. 앱 활성화</h3><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">applicationDidBecomeActive</span><span class="params">(<span class="number">_</span> application: UIApplication)</span></span> &#123;</span><br><span class="line">        <span class="comment">// Restart any tasks that were paused (or not yet started) while the application was inactive. If the application was previously in the background, optionally refresh the user interface.</span></span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>
<p>앱이 화면에 뜬 이후 실행되는 메소드. 사실 WillBecomeActive도 있지만 자주 사용하지 않아서인지 AppDelegate에 기본적으로 override된 메소드는 applicationDidBecomeActive 였다.<br>앱이 백그라운드로 간 이후, 다시 포어그라운드로 올라온 이후에도 실행되는 메소드입니다.</p>
<h3 id="3-홈-버튼을-누르면"><a href="#3-홈-버튼을-누르면" class="headerlink" title="3. 홈 버튼을 누르면"></a>3. 홈 버튼을 누르면</h3><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">applicationWillResignActive</span><span class="params">(<span class="number">_</span> application: UIApplication)</span></span> &#123;</span><br><span class="line">        <span class="comment">// Sent when the application is about to move from active to inactive state. This can occur for certain types of temporary interruptions (such as an incoming phone call or SMS message) or when the user quits the application and it begins the transition to the background state.</span></span><br><span class="line">        <span class="comment">// Use this method to pause ongoing tasks, disable timers, and invalidate graphics rendering callbacks. Games should use this method to pause the game.</span></span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>
<p>홈 버튼을 누르면 앱은 백그라운드로 이동합니다. 가장 먼저 App이 포커스를 잃으면서 실행되는 메소드입니다.<br>템플릿 설명에 다르면 태스크 일시정지, 타이머 비활성화, 게임의 경우 일시정지를 처리하는 로직을 구현해야 하는 메소드입니다.</p>
<h3 id="4-백그라운드로-이동-후-화면에서-앱-안보임"><a href="#4-백그라운드로-이동-후-화면에서-앱-안보임" class="headerlink" title="4. 백그라운드로 이동 후 (화면에서 앱 안보임)"></a>4. 백그라운드로 이동 후 (화면에서 앱 안보임)</h3><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">applicationDidEnterBackground</span><span class="params">(<span class="number">_</span> application: UIApplication)</span></span> &#123;</span><br><span class="line">        <span class="comment">// Use this method to release shared resources, save user data, invalidate timers, and store enough application state information to restore your application to its current state in case it is terminated later.</span></span><br><span class="line">        <span class="comment">// If your application supports background execution, this method is called instead of applicationWillTerminate: when the user quits.</span></span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>
<p>앱이 백그라운드로 이동하여 더이상 앱이 보이지 않은 이후 호출되는 메소드.<br>이 메소드에서는 공유자원 해제, 유저 데이터 저장 등의 로직을 구현해야합니다.</p>
<h3 id="5-다시-앱-실행-메모리에-아직-살아있는-경우"><a href="#5-다시-앱-실행-메모리에-아직-살아있는-경우" class="headerlink" title="5. 다시 앱 실행 (메모리에 아직 살아있는 경우)"></a>5. 다시 앱 실행 (메모리에 아직 살아있는 경우)</h3><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">applicationWillEnterForeground</span><span class="params">(<span class="number">_</span> application: UIApplication)</span></span> &#123;</span><br><span class="line">        <span class="comment">// Called as part of the transition from the background to the active state; here you can undo many of the changes made on entering the background.</span></span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>
<p>자주 사용하는 메소드입니다.<br>앱이 다시 포어그라운드로 올라올 때 호출되는 메소드로, 보통 API를 통해 앱의 상태를 갱신할 때 사용합니다. 버전체크, 메인테이닝 체크 등..</p>
</div></article></div><div class="right-container"><div class="widget"><div class="category"><h4>카테고리</h4><ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/Java/">Java</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/NHN-ent/">NHN ent.</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Spring-Framework/">Spring Framework</a><span class="category-list-count">7</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/iOS/">iOS</a><span class="category-list-count">34</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/iOS/Firebase/">Firebase</a><span class="category-list-count">4</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/iOS/Objective-C/">Objective-C</a><span class="category-list-count">3</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/iOS/RxSwift/">RxSwift</a><span class="category-list-count">3</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/iOS/Swift/">Swift</a><span class="category-list-count">4</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/iOS/XCodeServer/">XCodeServer</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/iOS/공통/">공통</a><span class="category-list-count">18</span></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/띵킹노트/">띵킹노트</a><span class="category-list-count">2</span></li></ul></div></div><div class="widget"><div class="tagcloud"><h4>태그</h4><a href="/tags/Admob/" style="font-size: 10px;">Admob</a> <a href="/tags/Apple/" style="font-size: 12px;">Apple</a> <a href="/tags/AutoLayout/" style="font-size: 10px;">AutoLayout</a> <a href="/tags/BestPractice/" style="font-size: 10px;">BestPractice</a> <a href="/tags/CI/" style="font-size: 10px;">CI</a> <a href="/tags/CocoaPods/" style="font-size: 12px;">CocoaPods</a> <a href="/tags/Database/" style="font-size: 10px;">Database</a> <a href="/tags/Dooray/" style="font-size: 10px;">Dooray</a> <a href="/tags/Firebase/" style="font-size: 14px;">Firebase</a> <a href="/tags/GCD/" style="font-size: 10px;">GCD</a> <a href="/tags/HitTest/" style="font-size: 10px;">HitTest</a> <a href="/tags/Interface-Builder/" style="font-size: 10px;">Interface Builder</a> <a href="/tags/Jasypt/" style="font-size: 10px;">Jasypt</a> <a href="/tags/NHN/" style="font-size: 12px;">NHN</a> <a href="/tags/NSXMLParser/" style="font-size: 10px;">NSXMLParser</a> <a href="/tags/Reflection/" style="font-size: 12px;">Reflection</a> <a href="/tags/RemoteConfig/" style="font-size: 10px;">RemoteConfig</a> <a href="/tags/Runtime/" style="font-size: 10px;">Runtime</a> <a href="/tags/RxSwift/" style="font-size: 14px;">RxSwift</a> <a href="/tags/SQLite3/" style="font-size: 10px;">SQLite3</a> <a href="/tags/Spring-Framework/" style="font-size: 18px;">Spring Framework</a> <a href="/tags/Storyboard/" style="font-size: 10px;">Storyboard</a> <a href="/tags/Swift/" style="font-size: 14px;">Swift</a> <a href="/tags/Web/" style="font-size: 16px;">Web</a> <a href="/tags/XCode/" style="font-size: 12px;">XCode</a> <a href="/tags/XCodeServer/" style="font-size: 12px;">XCodeServer</a> <a href="/tags/XML-Parser/" style="font-size: 10px;">XML Parser</a> <a href="/tags/Xcode/" style="font-size: 12px;">Xcode</a> <a href="/tags/grafana/" style="font-size: 10px;">grafana</a> <a href="/tags/iOS/" style="font-size: 20px;">iOS</a> <a href="/tags/influxDB/" style="font-size: 10px;">influxDB</a> <a href="/tags/java/" style="font-size: 12px;">java</a> <a href="/tags/jenkins/" style="font-size: 10px;">jenkins</a> <a href="/tags/maven/" style="font-size: 10px;">maven</a> <a href="/tags/구글-애널리틱스/" style="font-size: 10px;">구글 애널리틱스</a> <a href="/tags/기술교육/" style="font-size: 10px;">기술교육</a> <a href="/tags/띵킹노트/" style="font-size: 12px;">띵킹노트</a> <a href="/tags/모니터링/" style="font-size: 10px;">모니터링</a> <a href="/tags/배포/" style="font-size: 10px;">배포</a> <a href="/tags/버전-관리/" style="font-size: 10px;">버전 관리</a> <a href="/tags/생산성/" style="font-size: 12px;">생산성</a> <a href="/tags/성능-튜닝/" style="font-size: 10px;">성능 튜닝</a> <a href="/tags/스위프트/" style="font-size: 14px;">스위프트</a> <a href="/tags/스터디/" style="font-size: 10px;">스터디</a> <a href="/tags/스프링-프레임워크/" style="font-size: 18px;">스프링 프레임워크</a> <a href="/tags/심화/" style="font-size: 14px;">심화</a> <a href="/tags/애드몹/" style="font-size: 10px;">애드몹</a> <a href="/tags/앱-고도화/" style="font-size: 12px;">앱 고도화</a> <a href="/tags/업데이트/" style="font-size: 10px;">업데이트</a> <a href="/tags/오토레이아웃/" style="font-size: 10px;">오토레이아웃</a> <a href="/tags/웹/" style="font-size: 16px;">웹</a> <a href="/tags/지표수집/" style="font-size: 10px;">지표수집</a> <a href="/tags/최적화/" style="font-size: 12px;">최적화</a> <a href="/tags/쿼리스트링/" style="font-size: 10px;">쿼리스트링</a> <a href="/tags/토스트루키/" style="font-size: 10px;">토스트루키</a></div></div><div class="widget"><div class="recent"><h4>최근 포스트</h4><ul class="post-list"><li class="post-list-item"><a class="post-list-link" href="/2019/11/17/wkwebview-memory-leak/">wkwebview message handler memory leak(쉽게 실수하는 WKWebView 메모리 누수 수정)</a></li><li class="post-list-item"><a class="post-list-link" href="/2019/10/06/ios-http-status-code/">[iOS] iOS개발 시 주의해야 할 http status code (클라이언트 개발자도 http를 잘 알아야한다)</a></li><li class="post-list-item"><a class="post-list-link" href="/2019/03/31/database-versioning/">[iOS] SQLite3 Database 스키마 버전 관리의 필요성 및 방법 소개</a></li><li class="post-list-item"><a class="post-list-link" href="/2019/02/09/hittest/">[iOS] Touch Event가 View를 통해 전달되는 과정 (hitTest)</a></li><li class="post-list-item"><a class="post-list-link" href="/2019/02/08/layout-cycle/">iOS의 View, ViewController Layout Cycle</a></li></ul></div></div><div class="widget"><div id="arAnchorBar"></div></div></div></section></div><div class="right-menu"></div><div class="modal search-modal"><div class="input-field"><input type="text" id="search_input"><label for="search-input">검색</label></div><div id="search_result" class="search-result"></div></div><div class="blog-overlay"></div><footer class="row"><div class="footer-con"><div class="paginator"><a href="/2018/08/29/iap/" class="prev">PREV</a><a href="/2018/07/07/widget/" class="next">NEXT</a></div><ins style="display:block" data-ad-client="ca-pub-1405208574064220" data-ad-slot="8456857214" data-ad-format="auto" class="adsbygoogle"></ins><!-- Google Adsense--><script>(adsbygoogle = window.adsbygoogle || []).push({})</script><div id="disqus_thread"></div><script>var disqus_shortname = 'jingyujung';
var disqus_identifier = '2018/08/28/appdelegate/';
var disqus_title = '[iOS] AppDelegate의 역할과 메소드';
var disqus_url = 'http://monibu1548.github.io/2018/08/28/appdelegate/';
(function() {
    var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
    dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
})();</script><script id="dsq-count-scr" src="//jingyujung.disqus.com/count.js" async></script><!-- 푸터 광고 --><ins style="display:block" data-ad-client="ca-pub-1405208574064220" data-ad-slot="1718675585" data-ad-format="auto" class="adsbygoogle"></ins><!-- Google Adsense--><script>(adsbygoogle = window.adsbygoogle || []).push({})</script><div class="copyright"><p>© 2017 - 2019 <a target="_blank">Jingyu Jung</a>, powered by <a href="https://hexo.io/" target="_blank">Hexo</a> <br> and <a href="https://github.com/Bulandent/hexo-theme-bubuzou" target="_blank">hexo-theme-bubuzou</a></p></div><div class="totop"><i></i></div></div></footer><script async src="//cdn.bootcss.com/mathjax/2.6.1/MathJax.js?config=TeX-MML-AM_CHTML"></script><script src="http://apps.bdimg.com/libs/jquery/1.8.2/jquery.min.js"></script><script src="https://cdn1.lncld.net/static/js/av-mini-0.6.10.js"></script><script src="/scripts/hit-kounter-lc-0.2.0.js"></script><script src="/scripts/arAnchor.js"></script><script src="/scripts/main.js"></script><script>(function(b,o,i,l,e,r){b.GoogleAnalyticsObject=l;b[l]||(b[l]=function(){(b[l].q=b[l].q||[]).push(arguments)});b[l].l=+new Date;e=o.createElement(i);r=o.getElementsByTagName(i)[0];e.src='//www.google-analytics.com/analytics.js';r.parentNode.insertBefore(e,r)}(window,document,'script','ga'));ga('create',"UA-117570529-1",'auto');ga('send','pageview');</script></body></html>